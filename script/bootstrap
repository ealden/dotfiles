#!/bin/sh

set -e

echo ""
echo "  Ealden's Shell Config"
echo ""

# Check if Homebrew is present
if test ! $(which brew); then
  echo "  x You need to install Homebrew:"
  echo "    ruby -e \"\$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\""
  exit
else
  echo "  + Homebrew found."
fi

# Install Homebrew packages
echo "  + Installing Homebrew packages..."
brew update
brew upgrade

brew install vim
brew install git
brew install bash-completion
brew install rbenv
brew install ruby-build
brew install ag
brew install wget
brew install jsonpp 
brew install dos2unix
brew install node
brew install postgresql
brew install redis
brew install imagemagick
brew install mysql
brew install pyenv

brew services start postgresql
brew services start redis
brew services start mysql

brew cleanup

# Set up symlinks
echo "  + Setting up symlinks..."
rake

# Install Homebrew casks
echo "  + Installing Homebrew casks..."
brew cask install battle-net
brew cask install dropbox
brew cask install firefox
brew cask install google-chrome
brew cask install handbrake
brew cask install intellij-idea
brew cask install kindle
brew cask install parallels
brew cask install slack
brew cask install skype
brew cask install sourcetree
brew cask install steam
brew cask install visual-studio-code

brew cleanup

echo ""
echo "  We're ready to rock!"
