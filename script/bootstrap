#!/bin/sh

set -e

echo ""
echo "  Ealden's Shell Config"
echo ""

# Check if Homebrew is present
if test ! $(which brew); then
  echo "  x You need to install Homebrew:"
  echo "    ruby -e \"\$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\""
  exit
else
  echo "  + Homebrew found."
fi

# Install Homebrew packages
echo "  + Installing Homebrew packages..."
brew update
brew upgrade

brew install vim
brew install git
brew install bash-completion
brew install rbenv
brew install ruby-build
brew install ag
brew install wget
brew install jsonpp 
brew install dos2unix
brew install node
brew install postgresql
brew install redis
brew install mpv --with-bundle
brew install imagemagick
brew install mysql
brew install heroku
brew install maven
brew install gradle
brew install kafka

brew linkapps

brew services start postgresql
brew services start redis

brew cleanup

# Set up symlinks
echo "  + Setting up symlinks..."
rake

echo ""
echo "  We're ready to rock!"
